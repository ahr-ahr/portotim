---
import BaseLayout from "../layouts/BaseLayout.astro";

const team = [
  {
    name: "Hekal",
    role: "Backend",
    avatar: "", // contoh: "/images/people/hekal.jpg"
    location: "Surabaya, ID",
    bio: "Suka ngejar performa & observability; Go, Laravel, PostgreSQL.",
    skills: ["Go", "Laravel", "PostgreSQL", "Redis", "gRPC"],
    links: { github: "https://github.com/ahr-ahr", linkedin: "#" }
  },
  {
    name: "Brian",
    role: "Frontend",
    avatar: "", // contoh: "/images/people/brian.jpg"
    location: "Surabaya, ID",
    bio: "Ngulik UI/UX yang cepat & rapi; React, Astro, Tailwind.",
    skills: ["React", "Astro", "Tailwind", "TypeScript", "Vite"],
    links: { github: "https://github.com/briangtg", linkedin: "#" }
  },
];

/** ===== Tambahan: Visiâ€“Misi singkat ===== */
const vision = "Kami percaya teknologi yang baik adalah yang mempermudah hidup orang, bukan mempersulit.";
const mission =
  "Kami menggabungkan kekuatan frontend & backend untuk mengirim produk yang cepat, mudah di-maintain, dan siap scale.";

/** ===== Tambahan: Showcase mini (isi sesuai real project) ===== */
const projects = [
  {
    name: "Realtime Courier Tracking",
    desc: "Pelacakan kurir end-to-end dengan rute dinamis, notifikasi, dan optimasi beban.",
    tech: ["Astro", "React", "Laravel", "PostgreSQL", "Redis", "gRPC"],
    demo: "#",       // ganti ke URL demo
    casestudy: "#"   // ganti ke URL studi kasus
  },
  {
    name: "Investor Dashboard",
    desc: "Dashboard performa portofolio dengan top-up, histori transaksi, dan grafik interaktif.",
    tech: ["Vite", "Tailwind", "Laravel", "Chart.js"],
    demo: "#",
    casestudy: "#"
  },
  {
    name: "Marketplace Core",
    desc: "Fondasi marketplace modular: katalog, order, voucher, promosi otomatis, dan banner hybrid.",
    tech: ["Go", "Laravel", "PostgreSQL"],
    demo: "#",
    casestudy: "#"
  },
  {
    name: "Customer Tracking Portal",
    desc: "Portal pelanggan berbasis peta dengan real-time status dan visualisasi rute kurir.",
    tech: ["Leaflet", "Socket.io", "ORS"],
    demo: "#",
    casestudy: "#"
  }
];

// Helper untuk inisial avatar
function initials(name: string) {
  return name
    .split(" ")
    .filter(Boolean)
    .slice(0, 2)
    .map((n) => n[0]?.toUpperCase())
    .join("");
}
---

<BaseLayout title="Tentang Tim">
  <section class="mx-auto max-w-4xl px-4 py-10">
    <!-- Header + Visi Misi -->
    <header class="text-center reveal" style="--d: 0ms">
      <h1 class="text-3xl font-semibold tracking-tight">Tentang Kami</h1>

      <!-- Visi -->
      <p class="mx-auto mt-3 max-w-2xl text-balance text-lg text-gray-900 dark:text-gray-400">
        {vision}
      </p>
      <!-- Misi -->
      <p class="mx-auto mt-2 max-w-2xl text-muted dark:text-gray-400">
        {mission}
      </p>

      <!-- CTA menonjol -->
      <div class="mx-auto mt-6 flex flex-col items-center justify-center gap-3 sm:flex-row">
        <a
          href="/portotim/#projects"
          class="inline-flex items-center justify-center rounded-xl border border-gray-300 bg-white px-5 py-2.5 text-sm font-medium text-gray-900 transition hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-sky-300/50"
          aria-label="Lihat Projects"
        >
          Lihat Projects
        </a>
        <a
          href="/portotim/contact"
          class="inline-flex items-center justify-center rounded-xl border border-gray-200 bg-gray-50 px-5 py-2.5 text-sm font-medium text-gray-900 transition hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-sky-300/50"
          aria-label="Hubungi Kami"
        >
          Hubungi Kami
        </a>
      </div>
    </header>

    <!-- Kartu tim -->
    <div class="mt-10 grid grid-cols-1 gap-5 sm:grid-cols-2">
  {team.map((m, i) => (
    <article
      class="group reveal rounded-2xl border border-gray-200 bg-white dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 p-5 shadow-sm transition hover:shadow-md focus-within:shadow-md"
      style={`--d:${i * 100}ms`}
      tabindex="0"
      aria-label={`Profil ${m.name}`}
    >
          <div class="flex items-start gap-4">
            {/* Avatar */}
            {m.avatar ? (
              <img
                src={m.avatar}
                alt={`Foto ${m.name}`}
                class="h-14 w-14 rounded-xl object-cover ring-1 ring-gray-200"
                loading="lazy"
              />
            ) : (
              <div
                class="grid h-14 w-14 place-items-center rounded-xl bg-gradient-to-br from-sky-100 to-sky-200 text-sky-700 ring-1 ring-sky-300/60"
                aria-hidden="true"
              >
                <span class="text-lg font-semibold">{initials(m.name)}</span>
              </div>
            )}

            <div class="min-w-0">
              <div class="flex flex-wrap items-center gap-2">
                <h3 class="truncate text-lg font-semibold">{m.name}</h3>
                <span
                  class="rounded-full border border-gray-200 bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 px-2 py-0.5 text-xs font-medium text-gray-700"
                  >{m.role}</span
                >
              </div>

              {m.location && <p class="mt-1 text-xs text-gray-500">{m.location}</p>}
              {m.bio && <p class="mt-2 line-clamp-2 text-sm text-gray-700 dark:text-gray-500">{m.bio}</p>}

              {/* Skills */}
              {m.skills?.length ? (
                <ul class="mt-3 flex flex-wrap gap-2">
                  {m.skills.map((s) => (
                    <li class="rounded-lg border border-gray-200 bg-white dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700  px-2.5 py-1 text-xs text-gray-700">
                      {s}
                    </li>
                  ))}
                </ul>
              ) : null}

              {/* Links */}
              <div class="mt-4 flex gap-3 text-sm">
                {m.links?.github && (
                  <a
                    href={m.links.github}
                    target="_blank"
                    rel="noreferrer"
                    class="inline-flex items-center gap-1.5 rounded-lg border border-gray-200 bg-white px-2.5 py-1.5 text-gray-700 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700 transition hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-sky-300/50"
                    aria-label={`GitHub ${m.name}`}
                  >
                    <svg viewBox="0 0 24 24" class="h-4 w-4" fill="currentColor" aria-hidden="true">
                      <path
                        d="M12 .5a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58v-2.02c-3.34.73-4.04-1.61-4.04-1.61-.55-1.39-1.35-1.76-1.35-1.76-1.1-.75.08-.73.08-.73 1.21.09 1.85 1.25 1.85 1.25 1.08 1.85 2.83 1.31 3.52 1 .11-.78.42-1.31.76-1.61-2.67-.3-5.47-1.34-5.47-5.98 0-1.32.47-2.39 1.24-3.24-.12-.3-.54-1.51.12-3.15 0 0 1.01-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.66 1.64.24 2.85.12 3.15.77.85 1.23 1.92 1.23 3.24 0 4.65-2.81 5.68-5.49 5.98.43.37.81 1.1.81 2.22v3.29c0 .32.21.7.82.58A12 12 0 0 0 12 .5Z"
                      />
                    </svg>
                    <span>GitHub</span>
                  </a>
                )}
                {m.links?.linkedin && (
                  <a
                    href={m.links.linkedin}
                    target="_blank"
                    rel="noreferrer"
                    class="inline-flex items-center gap-1.5 rounded-lg border border-gray-200 bg-white px-2.5 py-1.5 text-gray-700 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700 transition hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-sky-300/50"
                    aria-label={`LinkedIn ${m.name}`}
                  >
                    <svg viewBox="0 0 24 24" class="h-4 w-4" fill="currentColor" aria-hidden="true">
                      <path
                        d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8.02h4V24h-4V8.02zM8.5 8h3.8v2.18h.05c.53-1 1.84-2.06 3.78-2.06 4.04 0 4.79 2.66 4.79 6.11V24h-4v-6.9c0-1.65-.03-3.78-2.3-3.78-2.3 0-2.65 1.79-2.65 3.66V24h-4V8z"
                      />
                    </svg>
                    <span>LinkedIn</span>
                  </a>
                )}
              </div>
            </div>
          </div>
        </article>
      ))}
    </div>

    <!-- Showcase / Portofolio -->
    <section class="mt-12">
      <div class="mb-4 flex items-end justify-between">
        <h2 class="text-xl font-semibold tracking-tight">Proyek Pilihan</h2>
        <a href="/portotim/#projects" class="text-sm font-medium text-black underline dark:text-gray-200 dark:hover:text-gray-300 hover:text-black">Lihat semua</a>
      </div>

      <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">
  {projects.map((p, i) => (
    <article
      class="reveal rounded-2xl border border-gray-200 bg-white dark:bg-gray-800 dark:border-gray-700 p-5 shadow-sm"
      style={`--d:${i * 100}ms`}
    >
            <div class="flex items-start justify-between gap-2">
              <h3 class="text-base font-semibold dark:text-gray-200">{p.name}</h3>
            </div>
            <p class="mt-1 text-sm text-gray-700 dark:text-gray-400">{p.desc}</p>
            {p.tech?.length ? (
              <ul class="mt-3 flex flex-wrap gap-2">
                {p.tech.map((t) => (
                  <li class="rounded-lg border border-gray-200 bg-white dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 px-2.5 py-1 text-xs text-gray-700">{t}</li>
                ))}
              </ul>
            ) : null}
            <div class="mt-4 flex gap-3 text-sm">
              {p.demo && (
                <a href={p.demo} target="_blank" rel="noreferrer" class="dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700  rounded-lg border border-gray-200 bg-white px-3 py-1.5 transition hover:bg-gray-50">
                  Demo
                </a>
              )}
              {p.casestudy && (
                <a href={p.casestudy} target="_blank" rel="noreferrer" class="dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700 rounded-lg border border-gray-200 bg-white px-3 py-1.5 transition hover:bg-gray-50">
                  Studi Kasus
                </a>
              )}
            </div>
          </article>
        ))}
      </div>
    </section>

    <!-- CTA penutup -->
<div class="reveal mt-12 rounded-2xl border border-gray-200 dark:border-gray-700 dark:bg-gray-800  p-6 text-center" style="--d: 150ms">
      <h3 class="text-lg font-semibold">Siap bawa ide kamu jadi produk?</h3>
      <p class="mt-1 text-sm text-gray-700 dark:text-gray-400">Kami bantu dari design sampai deployment.</p>
      <div class="mt-4 flex flex-col items-center justify-center gap-3 sm:flex-row">
        <a href="/portotim/contact" class="inline-flex items-center justify-center rounded-xl bg-black px-5 py-2.5 text-sm font-medium text-white shadow-sm transition hover:opacity-90 border dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700">
          Konsultasi Gratis
        </a>
        <a href="/portotim/#projects" class="inline-flex items-center justify-center rounded-xl border border-gray-300 bg-white px-5 py-2.5 text-sm font-medium text-gray-900 transition hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700">
          Lihat Portofolio
        </a>
      </div>
    </div>
  </section>
  <script>
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  let revealTO; // simpan timeout lokal (bukan di window)

  function runReveal() {
    const items = document.querySelectorAll('.reveal');

    // reset supaya bisa re-trigger
    items.forEach(function (el) {
      el.classList.remove('is-visible');
    });

    if (prefersReduced) {
      items.forEach(function (el) {
        el.classList.add('is-visible');
      });
      return;
    }

    const io = new IntersectionObserver(function (entries) {
      entries.forEach(function (entry) {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          io.unobserve(entry.target);
        }
      });
    }, { threshold: 0.12, rootMargin: '0px 0px -10% 0px' });

    items.forEach(function (el) {
      io.observe(el);
    });
  }

  runReveal();

  // Debounce saat resize
  window.addEventListener('resize', function () {
    if (revealTO) clearTimeout(revealTO);
    revealTO = setTimeout(runReveal, 150);
  });
</script>


</BaseLayout>
